<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>PDF Exam Shuffler</title>
    <link rel="stylesheet" href="../static/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="controls-container">
        <div class="language-toggle">
            <button id="lang-toggle-btn" title="Toggle Hebrew/English">
                <i class="fas fa-language"></i>
                <span id="lang-text">עברית</span>
            </button>
        </div>
        <div class="theme-toggle">
            <button id="theme-toggle-btn" title="Toggle dark/light mode">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </div>
    
    <div class="page-container">
        <header>
            <nav class="navbar">
                <div class="logo">
                    <i class="fas fa-file-pdf"></i>
                    <span data-en="ExamMixer" data-he="עורך מבחנים">ExamMixer</span>
                </div>
                <ul class="nav-links">
                    <li><a href="#" class="active" data-en="Home" data-he="בית">Home</a></li>
                    <li><a href="#how-it-works" data-en="How It Works" data-he="איך זה עובד">How It Works</a></li>
                    <li><a href="#features" data-en="Features" data-he="יכולות">Features</a></li>
                    <li><a href="#faq" data-en="FAQ" data-he="שאלות נפוצות">FAQ</a></li>
                </ul>
            </nav>
        </header>

        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="container">
                    <h1 class="main-title" data-en="Upload Your PDF" data-he="העלה את קובץ ה-PDF שלך">Upload Your PDF</h1>
                    <p class="upload-description" data-en="Upload your exam PDF, and we will shuffle the answers for you using advanced OCR and image processing." data-he="העלה את קובץ המבחן שלך, ואנו נערבב עבורך את התשובות באמצעות טכנולוגיית OCR ועיבוד תמונות מתקדמת.">Upload your exam PDF, and we will shuffle the answers for you using advanced OCR and image processing.</p>
                    
                    <div class="info-box">
                        <div class="info-content">
                            <i class="fas fa-info-circle"></i>
                            <div class="info-text">
                                <span data-en="Advanced Processing: This system uses OCR and image recognition to maintain perfect formatting and mathematical equations." data-he="עיבוד מתקדם: המערכת משתמשת ב-OCR וזיהוי תמונות כדי לשמור על עיצוב מושלם ונוסחאות מתמטיות.">Advanced Processing: This system uses OCR and image recognition to maintain perfect formatting and mathematical equations.</span>
                            </div>
                        </div>
                    </div>
                    
                    {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            <div class="flash-messages">
                                {% for message in messages %}
                                    <div class="alert alert-error">{{ message }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    {% endwith %}
                    
                    <form action="/shuffle_exam" method="post" enctype="multipart/form-data" class="upload-form">
                        <div class="file-input-container">
                            <div class="file-input-wrapper">
                                <input type="file" name="pdf_file" id="pdf-file" accept=".pdf" required>
                                <label for="pdf-file" class="file-label">
                                    <i class="fas fa-file-pdf"></i>
                                    <span class="file-text" data-en="Choose a PDF file" data-he="בחר קובץ PDF">Choose a PDF file</span>
                                </label>
                                <span class="file-name" data-en="No file chosen" data-he="לא נבחר קובץ">No file chosen</span>
                            </div>
                        </div>
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-random"></i>
                            <span data-en="Upload & Shuffle" data-he="העלה וערבב">Upload & Shuffle</span>
                        </button>
                    </form>
                </div>
            </section>

            <!-- How it Works Section -->
            <section id="how-it-works" class="how-works-section">
                <div class="container">
                    <h2 class="section-title" data-en="How Our PDF Shuffler Works" data-he="איך עובד עורך ה-PDF שלנו">How Our PDF Shuffler Works</h2>
                    
                    <div class="explanation-text">
                        <p data-en="ExamMixer is a powerful tool designed for educators to create multiple versions of the same exam by intelligently shuffling answers. This helps prevent cheating while maintaining the integrity of your assessment." data-he="עורך מבחנים הוא כלי חזק שנוצר עבור מחנכים ליצור גרסאות שונות של אותו מבחן על ידי ערבוב חכם של תשובות. זה עוזר למנוע העתקה תוך שמירה על שלמות ההערכה שלכם.">ExamMixer is a powerful tool designed for educators to create multiple versions of the same exam by intelligently shuffling answers. This helps prevent cheating while maintaining the integrity of your assessment.</p>
                        <p data-en="Our advanced algorithm identifies questions and their corresponding answers, then creates new versions with shuffled answer orders, making each exam unique." data-he="האלגוריתם המתקדם שלנו מזהה שאלות ואת התשובות המתאימות להן, ואז יוצר גרסאות חדשות עם סדר תשובות מעורבב, מה שהופך כל מבחן לייחודי.">Our advanced algorithm identifies questions and their corresponding answers, then creates new versions with shuffled answer orders, making each exam unique.</p>
                    </div>
                    
                    <div class="process-container">
                        <h3 class="process-title" data-en="PDF Shuffling Process" data-he="תהליך ערבוב PDF">PDF Shuffling Process</h3>
                        
                        <div class="process-steps">
                            <div class="process-step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4 data-en="Upload Your PDF" data-he="העלה את ה-PDF שלך">Upload Your PDF</h4>
                                    <p data-en="Select and upload your exam PDF file with multiple-choice questions" data-he="בחר והעלה את קובץ המבחן שלך עם שאלות בחירה מרובה">Select and upload your exam PDF file with multiple-choice questions</p>
                                </div>
                            </div>
                            
                            <div class="process-step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4 data-en="AI Processing" data-he="עיבוד בינה מלאכותית">AI Processing</h4>
                                    <p data-en="Our system identifies questions and shuffles answer options" data-he="המערכת שלנו מזהה שאלות ומערבבת את אפשרויות התשובה">Our system identifies questions and shuffles answer options</p>
                                </div>
                            </div>
                            
                            <div class="process-step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4 data-en="Download Result" data-he="הורד תוצאה">Download Result</h4>
                                    <p data-en="Get your shuffled PDF exam instantly" data-he="קבל את המבחן המעורבב שלך מיידית">Get your shuffled PDF exam instantly</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Features Section -->
            <section id="features" class="features-section">
                <div class="container">
                    <h2 class="section-title" data-en="Features" data-he="יכולות">Features</h2>
                    <ul class="features-list">
                        <li class="feature-item">
                            <i class="fas fa-bolt"></i>
                            <span data-en="Fast Processing" data-he="עיבוד מהיר">Fast Processing</span>
                        </li>
                        <li class="feature-item">
                            <i class="fas fa-lock"></i>
                            <span data-en="Secure Files" data-he="קבצים מאובטחים">Secure Files</span>
                        </li>
                        <li class="feature-item">
                            <i class="fas fa-random"></i>
                            <span data-en="Smart Shuffling" data-he="ערבוב חכם">Smart Shuffling</span>
                        </li>
                        <li class="feature-item">
                            <i class="fas fa-file-alt"></i>
                            <span data-en="Maintains Formatting" data-he="שומר עיצוב">Maintains Formatting</span>
                        </li>
                    </ul>
                </div>
            </section>
            
            <!-- FAQ Section -->
            <section id="faq" class="faq-section">
                <div class="container">
                    <h2 class="section-title" data-en="FAQ" data-he="שאלות נפוצות">FAQ</h2>
                    <div class="faq-list">
                        <div class="faq-item">
                            <h3 class="faq-question" data-en="What types of exam formats are supported?" data-he="איזה סוגי פורמטי מבחן נתמכים?">What types of exam formats are supported?</h3>
                            <p class="faq-answer" data-en="Our system currently supports PDF files containing multiple-choice questions. The questions should have clearly defined answers labeled with letters (A, B, C, D) or numbers." data-he="המערכת שלנו תומכת כרגע בקבצי PDF המכילים שאלות בחירה מרובה. השאלות צריכות להיות עם תשובות מוגדרות בבירור עם אותיות (א, ב, ג, ד) או מספרים.">Our system currently supports PDF files containing multiple-choice questions. The questions should have clearly defined answers labeled with letters (A, B, C, D) or numbers.</p>
                        </div>
                        
                        <div class="faq-item">
                            <h3 class="faq-question" data-en="Is my exam content secure?" data-he="האם תוכן המבחן שלי מאובטח?">Is my exam content secure?</h3>
                            <p class="faq-answer" data-en="Yes, we take security seriously. Your files are processed securely, and we don't store your exam content after processing is complete." data-he="כן, אנו לוקחים אבטחה ברצינות. הקבצים שלכם מעובדים בצורה מאובטחת, ואנחנו לא שומרים את תוכן המבחן לאחר סיום העיבוד.">Yes, we take security seriously. Your files are processed securely, and we don't store your exam content after processing is complete.</p>
                        </div>
                        
                        <div class="faq-item">
                            <h3 class="faq-question" data-en="Will the shuffled exams have an answer key?" data-he="האם המבחנים המעורבבים יכללו מפתח תשובות?">Will the shuffled exams have an answer key?</h3>
                            <p class="faq-answer" data-en="Yes, along with each shuffled exam version, you'll receive a corresponding answer key that maps the new answer positions to the original correct answers." data-he="כן, יחד עם כל גרסת מבחן מעורבבת, תקבלו מפתח תשובות מתאים שמתאים את מיקומי התשובות החדשים לתשובות הנכונות המקוריות.">Yes, along with each shuffled exam version, you'll receive a corresponding answer key that maps the new answer positions to the original correct answers.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="site-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo">
                        <i class="fas fa-file-pdf"></i>
                        <span data-en="ExamMixer" data-he="עורך מבחנים">ExamMixer</span>
                    </div>
                    <div class="copyright">
                        <p data-en="&copy; 2025 ExamMixer. All rights reserved." data-he="&copy; 2025 עורך מבחנים. כל הזכויות שמורות.">&copy; 2025 ExamMixer. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let currentLang = 'en';
            
            // Language switching functionality
            const langToggleBtn = document.getElementById('lang-toggle-btn');
            const langText = document.getElementById('lang-text');
            const htmlElement = document.documentElement;
            
            // Check for saved language preference
            const savedLang = localStorage.getItem('language');
            if (savedLang) {
                currentLang = savedLang;
                updateLanguage(currentLang);
            }
            
            // Toggle language
            langToggleBtn.addEventListener('click', () => {
                currentLang = currentLang === 'en' ? 'he' : 'en';
                updateLanguage(currentLang);
                localStorage.setItem('language', currentLang);
            });
            
            function updateLanguage(lang) {
                // Update HTML attributes
                htmlElement.setAttribute('lang', lang);
                htmlElement.setAttribute('dir', lang === 'he' ? 'rtl' : 'ltr');
                
                // Update button text
                langText.textContent = lang === 'en' ? 'עברית' : 'English';
                
                // Update all elements with data attributes
                const elements = document.querySelectorAll('[data-en][data-he]');
                elements.forEach(element => {
                    const text = lang === 'en' ? element.getAttribute('data-en') : element.getAttribute('data-he');
                    if (element.tagName === 'INPUT' && element.type === 'submit') {
                        element.value = text;
                    } else {
                        element.innerHTML = text;
                    }
                });
                
                // Update file input messages
                const fileInput = document.getElementById('pdf-file');
                const fileName = document.querySelector('.file-name');
                if (fileInput && fileName && !fileInput.files.length) {
                    fileName.textContent = lang === 'en' ? 'No file chosen' : 'לא נבחר קובץ';
                }
                
                // Add/remove Hebrew class for styling
                document.body.classList.toggle('hebrew', lang === 'he');
            }
            
            // Theme toggling functionality
            const themeToggleBtn = document.getElementById('theme-toggle-btn');
            const icon = themeToggleBtn.querySelector('i');
            
            // Check for saved theme preference or use device preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                icon.classList.replace('fa-moon', 'fa-sun');
            } else if (savedTheme === 'light') {
                document.body.classList.add('light-theme');
            }
            
            // Toggle theme
            themeToggleBtn.addEventListener('click', () => {
                if (document.body.classList.contains('dark-theme')) {
                    document.body.classList.replace('dark-theme', 'light-theme');
                    localStorage.setItem('theme', 'light');
                    icon.classList.replace('fa-sun', 'fa-moon');
                } else {
                    document.body.classList.remove('light-theme');
                    document.body.classList.add('dark-theme');
                    localStorage.setItem('theme', 'dark');
                    icon.classList.replace('fa-moon', 'fa-sun');
                }
            });

            // File input functionality
            const fileInput = document.getElementById('pdf-file');
            const fileLabel = document.querySelector('.file-label');
            const fileName = document.querySelector('.file-name');
            
            if (fileInput) {
                fileInput.addEventListener('change', (e) => {
                    if (e.target.files.length > 0) {
                        const file = e.target.files[0];
                        fileName.textContent = file.name;
                        const labelText = document.querySelector('.file-text');
                        labelText.textContent = currentLang === 'en' ? 'File Selected' : 'קובץ נבחר';
                    } else {
                        fileName.textContent = currentLang === 'en' ? 'No file chosen' : 'לא נבחר קובץ';
                        const labelText = document.querySelector('.file-text');
                        labelText.textContent = currentLang === 'en' ? 'Choose a PDF file' : 'בחר קובץ PDF';
                    }
                });
            }

            // Navbar scroll effect
            const navbar = document.querySelector('.navbar');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // Add active class to current nav item
            const navLinks = document.querySelectorAll('.nav-links a');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        const targetElement = document.querySelector(targetId);
                        
                        if (targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 20,
                                behavior: 'smooth'
                            });
                        }
                    }
                    
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            // FAQ accordion functionality
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                const answer = item.querySelector('.faq-answer');
                
                if (!question || !answer) return;
                
                // Add toggle icon to questions if not exists
                let icon = question.querySelector('.faq-toggle-icon');
                if (!icon) {
                    icon = document.createElement('i');
                    icon.classList.add('fas', 'fa-chevron-down', 'faq-toggle-icon');
                    question.appendChild(icon);
                }
                
                // Set initial state
                answer.style.maxHeight = '0';
                answer.style.overflow = 'hidden';
                answer.style.transition = 'max-height 0.3s ease';
                question.style.cursor = 'pointer';
                
                question.addEventListener('click', () => {
                    const isOpen = item.classList.contains('active');
                    
                    // Close all other FAQs
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.classList.remove('active');
                            const otherAnswer = otherItem.querySelector('.faq-answer');
                            const otherIcon = otherItem.querySelector('.faq-toggle-icon');
                            
                            if (otherAnswer) {
                                otherAnswer.style.maxHeight = '0';
                            }
                            if (otherIcon) {
                                otherIcon.classList.remove('fa-chevron-up');
                                otherIcon.classList.add('fa-chevron-down');
                            }
                        }
                    });
                    
                    // Toggle current FAQ
                    if (!isOpen) {
                        item.classList.add('active');
                        answer.style.maxHeight = answer.scrollHeight + 'px';
                        icon.classList.remove('fa-chevron-down');
                        icon.classList.add('fa-chevron-up');
                    } else {
                        item.classList.remove('active');
                        answer.style.maxHeight = '0';
                        icon.classList.remove('fa-chevron-up');
                        icon.classList.add('fa-chevron-down');
                    }
                });
            });
        });
    </script>
</body>
</html>
